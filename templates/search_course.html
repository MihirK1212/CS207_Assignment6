<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Course</title>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a class="navbar-brand" href="#">Search Courses</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/">Home<span class="sr-only"></span></a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="submit" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          Select Department
        </button>
        <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDarkDropdownMenuLink">

            {% for department in departments %}
             <li><a class="dropdown-item" href="/search_course/{{ department[0] }}">{{ department[0] }}</a></li>
            {% endfor %}
        </ul>
    </div>

    {% if check!=True %}
        Please Select a Department

    {% else %}

        <h1 align="center">Courses of {{ d_name }}</h1><br>

        <div class="container" my-3>
        <form action="/search_course/{{ d_name }}" method="post"><br>
            <label class="form-label" for="faculty">Search by Faculty:</label>
            <div class="form-group" style="margin-bottom: 20px;">
            <select name="faculty" id="faculty" class="form-control">
            <option value="None"> None  </option>
            {% for faculty in session.faculty %}
                <option value="{{ faculty[1] }}" id="{{ faculty[1] }}">{{ faculty[1] }}-{{ faculty[0] }}  </option>
            {% endfor %}
            </select><br></div>
            <div class="mb-3">
            <label for="start_year" class="form-label">Start Year:</label>
                <select name="start_year" id="start_year" class="form-control">
                <option value="None" > None  </option>
                <option value="2011" id="2011s"> 2011  </option>
                <option value="2012" id="2012s"> 2012  </option>
                <option value="2013" id="2013s"> 2013  </option>
                <option value="2014" id="2014s"> 2014  </option>
                <option value="2015" id="2015s"> 2015  </option>
                <option value="2016" id="2016s"> 2016  </option>
                <option value="2017" id="2017s"> 2017  </option>
                <option value="2018" id="2018s"> 2018  </option>
                <option value="2019" id="2019s"> 2019  </option>
                <option value="2020" id="2020s"> 2020  </option>
            </select><br></div>

            <div class="mb-3">
            <label for="end_year" class="form-label">End Year:</label>
            <select name="end_year" id="end_year" class="form-control">
                <option value="None" > None  </option>
                <option value="2011" id="2011e"> 2011  </option>
                <option value="2012" id="2012e"> 2012  </option>
                <option value="2013" id="2013e"> 2013  </option>
                <option value="2014" id="2014e"> 2014  </option>
                <option value="2015" id="2015e"> 2015  </option>
                <option value="2016" id="2016e"> 2016  </option>
                <option value="2017" id="2017e"> 2017  </option>
                <option value="2018" id="2018e"> 2018  </option>
                <option value="2019" id="2019e"> 2019  </option>
                <option value="2020" id="2020e"> 2020  </option>
            </select><br></div>

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        
        </div>
        <div class="container my-3" >
        {% if course|length == 0 %}
            No Courses to Display
        {% else %}
            
        

        <table class="table">
            <th>
                <td>Course ID</td>
                <td>Course Name</td>
            </th>
            {% for course in course %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ course[0] }}</td>
                <td>{{ course[1] }}</td>
            </tr>
            {% endfor %}
        </table>
        {% endif %}
    {% endif %}
</body>
</html>